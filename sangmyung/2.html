<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>상명대학교 온라인 약술형 논술 모의고사 (2회)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;700&display=swap');
        body {
            font-family: 'Noto Sans KR', sans-serif;
        }
        .passage {
            background-color: #f9fafb;
            border: 1px solid #e5e7eb;
            padding: 1.5rem;
            border-radius: 0.5rem;
            margin-bottom: 1.5rem;
            white-space: pre-wrap;
            line-height: 1.8;
        }
        .question-box {
            background-color: white;
            border: 1px solid #d1d5db;
            padding: 1.5rem;
            border-radius: 0.5rem;
            margin-bottom: 1rem;
        }
        .correct-answer {
            color: #16a34a; /* green-600 */
            font-weight: bold;
        }
        .incorrect-answer {
            color: #dc2626; /* red-600 */
            font-weight: bold;
        }
        .explanation {
            background-color: #f3f4f6;
            border-left: 4px solid #6b7280;
            padding: 1rem;
            margin-top: 1rem;
            font-size: 0.9rem;
            color: #374151;
            display: none; /* Initially hidden */
        }
    </style>
</head>
<body class="bg-gray-100 text-gray-800">

    <div class="container mx-auto p-4 md:p-8 max-w-4xl">
        <header class="text-center mb-8 p-6 bg-white rounded-lg shadow-md">
            <h1 class="text-3xl font-bold text-blue-800">상명대학교 약술형 논술 모의고사 (2회)</h1>
            <p class="text-gray-600 mt-2">문제의 지시문에 따라 답안을 작성하고 '채점하기' 버튼을 누르세요.</p>
        </header>

        <main id="test-container">
            <!-- Questions will be dynamically inserted here -->
        </main>

        <div class="text-center my-8">
            <button id="submit-btn" class="bg-blue-600 text-white font-bold py-3 px-8 rounded-lg hover:bg-blue-700 transition-colors duration-300 text-lg shadow-lg">
                채점하기
            </button>
        </div>

        <section id="result-section" class="hidden text-center p-8 bg-white rounded-lg shadow-xl">
            <h2 class="text-2xl font-bold mb-4">채점 결과</h2>
            <p id="score" class="text-4xl font-bold text-blue-800 mb-4"></p>
            <p id="feedback" class="text-lg text-gray-700 mb-6"></p>
            <button id="show-answers-btn" class="bg-gray-700 text-white font-bold py-2 px-6 rounded-lg hover:bg-gray-800 transition-colors duration-300">
                정답 및 해설 보기
            </button>
        </section>
    </div>

    <script>
        const testData = [
            {
                passageTitle: "[1~2] 다음은 ‘학교 텃밭 활성화를 위한 애플리케이션 개발’을 주제로 한 동아리 토의의 일부이다. 물음에 답하시오.",
                passage: `학생 1: 안녕하세요, 동아리 부원 여러분. 오늘은 우리가 개발하기로 한 학교 텃밭 활성화 앱의 구체적인 기능에 대해 논의해 봅시다. 지난 회의에서 앱의 목적을 ‘학생들의 텃밭 활동 참여 유도 및 편의성 증진’으로 정했는데요, 이를 실현할 수 있는 참신한 아이디어가 필요합니다. 앱 개발의 성공은 얼마나 사용자의 필요를 정확히 파악하고 창의적인 기능으로 구현하는지에 달려 있다고 생각합니다.\n\n학생 2: 저는 정보 제공 기능을 핵심으로 삼아 강화했으면 합니다. 단순히 작물 이름만 알려주는 것을 넘어, 텃밭에 있는 작물마다 QR 코드를 부착해서 학생들이 스마트폰으로 스캔하면, 해당 작물의 상세 정보 페이지로 연결되는 겁니다. 이 페이지에는 작물의 이름, 심는 시기, 관리 방법 같은 기본 정보는 물론, 관련 상식을 담은 짧은 영상이나 병충해 대처법 같은 실용적인 팁도 포함하는 거죠. 학생들이 작물에 대해 깊이 있게 이해하고 지속적인 관심을 가질 수 있을 겁니다. 또, ‘주간 텃밭 소식’ 코너를 단순한 공지사항이 아닌, 하나의 콘텐츠로 만드는 겁니다. 매주 텃밭의 변화 모습이나 작물의 성장 과정을 사진과 함께 스토리텔링 형식으로 업데이트하여, 학생들이 텃밭에 대한 애착을 느끼고 공동체 의식을 함양하는 데 도움이 될 것입니다.\n\n학생 3: 좋은 생각입니다. 저는 정보 제공과 더불어 소통 기능을 중심으로 제안하고 싶습니다. 앱 내에 ‘우리들의 텃밭 일기’라는 커뮤니티 게시판을 활성화하는 겁니다. 단순히 사진이나 경험담을 올리는 것에서 나아가, ‘이달의 작물 왕’ 같은 이벤트를 열어 가장 잘 자란 작물 사진을 올린 학생에게 작은 상품을 주는 거죠. 학생들의 적극적인 참여를 유도하고 선의의 경쟁을 통해 작물 관리에 더 힘쓰게 될 겁니다. 그리고 ‘물주기 알림’ 기능도 개인별 맞춤 설정이 가능하도록 고도화했으면 합니다. 작물 종류나 계절에 따라 물 주는 주기가 다른 점을 고려하여, 학생들이 각자 맡은 작물에 맞춰 최적의 알림 시간을 설정할 수 있게 하는 겁니다. 이는 책임감을 갖고 텃밭을 관리하는 데 실질적인 도움이 될 거라고 생각합니다. 마지막으로, 우리 앱의 이름은 ‘텃밭의 모든 것’으로 정하는 게 어떨까요? 앱의 종합적인 성격을 잘 보여주는 이름 같습니다.\n\n학생 1: 두 분의 의견을 종합해 보니 우리 앱의 윤곽이 뚜렷해지는 것 같네요. QR 코드를 활용한 심층 정보 제공, 스토리텔링형 텃밭 소식, 이벤트가 결합된 커뮤니티, 그리고 맞춤형 알림 기능까지 모두 훌륭한 아이디어입니다. 특히 학생들이 단순한 정보 소비자를 넘어, 직접 참여하고 소통하며 콘텐츠를 생산하는 주체가 되도록 하는 것이 중요하다고 생각합니다. 제안된 기능들의 구현 가능성과 예상되는 문제점들을 검토해서 다음 회의 때 구체적인 개발 계획을 세워 봅시다.`,
                questions: [
                    {
                        q: "1. ‘학생 2’가 작물 정보를 제공하기 위해 활용하자고 제안한 기술의 명칭을 본문에서 찾아 4음절로 쓰시오.",
                        answer: "QR코드",
                        explanation: "본문 2문단에서 ‘학생 2’는 “텃밭에 있는 작물마다 QR 코드를 부착해서 학생들이 스마트폰으로 스캔하면”이라고 말하며, 작물 정보 제공을 위해 ‘QR 코드’라는 기술을 활용할 것을 제안하고 있습니다."
                    },
                    {
                        q: "2. ‘학생 3’이 제안한 앱의 이름(명칭)을 본문에서 찾아 3어절로 쓰시오.",
                        answer: "텃밭의 모든 것",
                        explanation: "본문 3문단 마지막 부분에서 ‘학생 3’은 “마지막으로, 우리 앱의 이름은 ‘텃밭의 모든 것’으로 정하는 게 어떨까요?”라고 말하며 앱의 명칭을 제안하고 있습니다."
                    }
                ]
            },
            {
                passageTitle: "[3~4] 다음은 ‘반려동물 보유세’ 도입에 대해 다룬 신문 기사의 초고이다. 물음에 답하시오.",
                passage: `[초고]\n제목: 반려동물 보유세, ‘뜨거운 감자’로 떠오르다\n\n최근 우리 사회에서 반려동물을 기르는 가구가 1,500만을 넘어서면서, ‘반려동물 보유세’ 도입에 대한 논의가 다시금 활발해지고 있다. 반려동물 보유세는 반려동물을 기르는 사람에게 일정 금액의 세금을 부과하는 제도로, 이를 통해 매년 급증하는 유기 동물을 줄이고 동물의 복지를 증진하려는 긍정적인 목적을 가진다. 이는 반려동물 양육을 개인의 선택을 넘어 사회적 책임의 영역으로 인식하기 시작했다는 점에서 중요한 의미를 지닌다.\n\n보유세 도입에 찬성하는 측은 확보된 세수를 통해 동물 복지 시스템을 획기적으로 개선할 수 있다고 주장한다. 실제로 한 해 유기 동물 구조 및 관리에 소요되는 사회적 비용은 수백억 원에 달하며, 보유세는 이러한 재정 부담을 완화하는 현실적인 대안이 될 수 있다. 구체적으로 유기 동물 보호소의 시설을 현대화하고, 동물 학대 방지를 위한 관리 감독 인력을 충원하는 등 실질적인 정책을 펼 재원을 마련할 수 있다는 것이다. 또한, 세금 납부라는 경제적 책임은 잠재적 양육자들이 반려동물을 입양하기 전 자신의 경제적·환경적 여건을 신중하게 고려하게 만드는 일종의 ‘진입 장벽’으로 작용하여, 충동적인 입양과 그로 인한 유기를 사전에 방지하는 효과를 낳을 것으로 기대한다. 즉, 반려동물 양육에 대한 사회적 책임을 강화하는 계기가 될 수 있다는 것이다.\n\n하지만 반대 의견도 만만치 않다. 우선, 세금 부과가 오히려 또 다른 형태의 유기를 조장할 수 있다는 우려가 크다. 세금 부담을 피하기 위해 반려동물 등록을 하지 않는 ‘음성적 양육’이 늘어날 수 있다는 것이다. 실제로 높은 보유세를 시행한 일부 해외 사례에서는 미등록 반려견이 급증하고, 이들이 유기되었을 때 추적이 불가능해지는 부작용이 보고된 바 있다. 또한, 저소득층이나 독거노인 등 사회적 약자에게 반려동물 보유세는 감당하기 힘든 경제적 부담으로 작용할 수 있다. 이들에게 반려동물은 단순한 동물을 넘어 정서적 안정과 위로를 주는 소중한 가족 구성원이기에, 세금 문제로 인해 이별을 강요당하는 것은 가혹하다는 비판도 제기된다.\n\n결론적으로, 반려동물 보유세는 동물 복지 증진이라는 중요한 가치를 담고 있지만, 동시에 여러 사회적 문제를 야기할 가능성도 내포하고 있다. 따라서 이 제도를 성급하게 도입하기에 앞서, 세금의 구체적인 사용 계획을 국민에게 투명하게 공개하고, 저소득층을 위한 감면 혜택이나 입양 문화 개선 캠페인 등 다양한 보완책을 마련하는 사회적 합의 과정이 반드시 선행되어야 한다.`,
                questions: [
                    {
                        q: "3. 윗글의 2문단에 따르면, 반려동물 보유세 도입을 통해 강화될 수 있는 것을 2어절로 쓰시오.",
                        answer: "사회적 책임을",
                        explanation: "본문 2문단 마지막 문장은 “즉, 반려동물 양육에 대한 사회적 책임을 강화하는 계기가 될 수 있다는 것이다.”라고 서술하고 있습니다. 따라서 보유세 도입을 통해 강화될 수 있는 것은 ‘사회적 책임’입니다."
                    },
                    {
                        q: "4. 3문단에서 반려동물 보유세 도입을 반대하는 측이 우려하는 문제점 중, 세금 부담을 피하기 위한 행동을 설명하는 문장의 첫 어절과 끝 어절을 찾아 쉼표로 구분하여 순서대로 쓰시오.",
                        answer: "세금, 것이다",
                        explanation: "본문 3문단에서 반대 측의 우려를 설명하는 문장 중 세금 부담을 피하기 위한 행동에 해당하는 문장은 “세금 부담을 피하기 위해 반려동물 등록을 하지 않는 ‘음성적 양육’이 늘어날 수 있다는 것이다.”입니다. 문제의 요구에 따라 이 문장의 첫 어절인 ‘세금’과 끝 어절인 ‘것이다’를 쉼표로 구분하여 쓰면 됩니다."
                    }
                ]
            },
            {
                passageTitle: "[5~6] 다음 글을 읽고 물음에 답하시오.",
                passage: `우리는 매일 수많은 선택의 순간에 놓인다. 이때 우리의 선택은 전적으로 자유의지에 따른 합리적 판단의 결과일까? 행동경제학자 리처드 탈러는 우리의 선택이 생각보다 주변 환경의 미세한 차이에 큰 영향을 받는다고 말한다. 그는 타인의 선택을 유도하는 부드러운 개입, 즉 ‘넛지(Nudge)’의 중요성을 강조한다. 넛지는 ‘옆구리를 슬쩍 찌르다’라는 뜻으로, 강압이나 금지 없이 사람들의 행동을 예측 가능한 방향으로 긍정적으로 변화시키는 개입을 의미한다. 이는 인간의 인지적 특성, 특히 복잡한 고민 없이 주어진 기본값을 따르려는 ‘디폴트 효과(default effect)’나 현재 상태를 그대로 유지하려는 ‘현상 유지 편향(status quo bias)’을 긍정적으로 활용하는 전략이다.\n\n넛지의 대표적인 사례로 네덜란드 암스테르담 공항의 남자 화장실 소변기 이야기가 있다. 공항 측은 소변기 중앙에 파리 모양의 작은 스티커 하나를 붙였다. 그 결과, 소변기 밖으로 튀는 소변의 양이 80%나 줄었다. 파리 스티커는 누구에게도 조준을 강요하지 않았지만, 사람들에게 무의식적인 목표점을 제시함으로써 행동을 자연스럽게 원하는 방향으로 유도한 것이다. 또 다른 예로, 일부 국가에서는 장기 기증 서약률을 높이기 위해 운전면허증 발급 시 ‘장기 기증에 동의함’을 기본값으로 설정하고, 원하지 않는 사람만 ‘동의하지 않음’에 표시하도록 제도를 설계했다. 그 결과, 별도의 의사 표시가 없으면 자동으로 기증에 동의하게 되어 서약률이 극적으로 상승했다. 이는 선택의 자유를 침해하지 않으면서도 사회적으로 바람직한 결과를 이끌어 낸 효과적인 넛지 설계의 예이다.\n\n이처럼 사람들이 선택을 내리는 환경을 설계하는 사람을 ‘선택 설계자’라고 부른다. 학교의 영양사, 기업의 마케터, 정부의 정책 입안자 등 우리 사회의 많은 이들이 자신도 모르는 사이에 선택 설계자의 역할을 수행하고 있다. 따라서 선택 설계자는 자신의 설계가 사람들의 결정에 미치는 영향을 이해하고, 그들이 더 나은 결정을 내리도록 돕기 위해 선택 환경을 신중하게 구성해야 할 사회적 책임을 지닌다. 넛지는 공공 정책, 마케팅, 교육 등 다양한 분야에서 사회 전체에 이익이 되는 방향으로 활용될 수 있는 무한한 잠재력을 가지고 있다.`,
                questions: [
                    {
                        q: "5. <보기>는 윗글의 핵심 개념을 정리한 것이다. (ㄱ), (ㄴ)에 들어갈 말을 본문에서 찾아 순서대로 쓰시오.\n\n<보기>\n행동경제학에서는 사람들이 더 나은 선택을 하도록 유도하기 위해 선택 환경을 의도적으로 구성하는 것이 중요하다고 본다. 이때 강압이나 금지 없이 부드러운 개입을 통해 긍정적 행동 변화를 유도하는 것을 (ㄱ)(이)라고 하며, 이러한 선택 환경을 설계하는 주체를 (ㄴ)(이)라고 부른다.",
                        answer: "넛지, 선택 설계자",
                        explanation: "<보기>는 윗글의 핵심 개념을 설명하고 있습니다. (ㄱ)은 강압이나 금지 없이 부드러운 개입을 통해 행동 변화를 유도하는 것을 의미하므로 본문에 따라 ‘넛지’가 적절합니다. (ㄴ)은 이러한 선택 환경을 설계하는 주체를 의미하므로 본문에 따라 ‘선택 설계자’가 적절합니다."
                    },
                    {
                        q: "6. <보기>의 사례 중, 윗글에서 설명하는 ‘넛지’에 해당하는 것의 기호를 쓰시오.\n\n<보기>\n㉠ 마트 계산대 앞에 건강 간식을 진열하고, 사탕이나 초콜릿은 눈에 잘 띄지 않는 곳에 둔다.\n㉡ 공공장소에서 흡연 시 10만 원의 과태료를 부과한다.\n㉢ 재활용품을 가져오면 품목에 따라 현금으로 보상해 준다.\n㉣ 운동의 장점을 설명하는 안내문을 게시판에 부착한다.",
                        answer: "㉠",
                        explanation: "㉠은 선택의 자유를 제한하지 않으면서 간식 진열 위치를 바꾸는 부드러운 개입을 통해 건강한 선택을 유도하므로 넛지에 해당합니다. 반면, ㉡은 과태료 부과라는 강제적 수단, ㉢은 직접적인 경제적 보상, ㉣은 단순한 정보 제공이므로 넛지의 개념과 거리가 멉니다."
                    }
                ]
            },
            {
                passageTitle: "[7] 다음 글을 읽고 물음에 답하시오.",
                passage: `1960년대 후반 미국 미술계에는 주관적인 감정 표현을 중시하던 추상표현주의의 뜨거운 열기가 식고, 극단적으로 차가운 리얼리즘을 추구하는 새로운 예술 사조가 등장했다. 그중 하나가 바로 ‘하이퍼리얼리즘(Hyperrealism)’이다. ‘극사실주의’로 번역되는 이 사조는 사진을 매개로 현실의 모습을 극도로 생생하고 완벽하게 재현하는 것을 목표로 한다. 척 클로스, 리처드 에스테스 같은 하이퍼리얼리즘 화가들은 주로 도시의 거리, 인물, 정물 등 일상적인 소재를 대상으로 삼아 마치 거대한 사진을 보는 듯한 착각을 불러일으키는 그림을 그렸다.\n\n하이퍼리얼리즘의 가장 큰 특징은 작가의 주관이나 감정을 철저히 배제하고 마치 기계의 눈으로 보듯 기계적인 중립성을 지향한다는 점이다. 이를 위해 화가들은 그리고자 하는 대상을 먼저 사진으로 찍은 뒤, 그 사진을 슬라이드 프로젝터로 캔버스에 투영하여 정밀하게 밑그림을 그렸다. 채색 과정에서는 에어브러시와 같은 도구를 사용하여 붓 자국이 거의 남지 않도록 매끈하고 차가운 질감을 만들어 냈다. 이러한 비인격적인 제작 과정을 통해 완성된 작품은 현실보다 더 현실 같은 비현실성을 보여 준다. 너무나 사실적이어서 오히려 그것이 실재가 아닌 잘 만들어진 이미지, 즉 가상이라는 것을 깨닫게 되는 역설적인 경험을 관객에게 선사하는 것이다.\n\n이러한 하이퍼리얼리즘의 특징은 프랑스의 철학자 장 보드리야르의 ‘시뮬라시옹(Simulation)’ 이론을 통해 철학적 의미를 부여받는다. 보드리야르는 현대 대중매체 사회가 원본(실재)보다 더 실제 같은 복제 이미지, 즉 ‘시뮬라크르’가 현실을 지배하고 대체하는 시대라고 진단했다. 하이퍼리얼리즘은 바로 이처럼 실재와 가상의 경계가 무너진 현대 사회의 모습을 회화라는 매체를 통해 시각적으로 구현하고, 무엇이 진짜이고 무엇이 가짜인지 구분할 수 없는 상태를 폭로하는 예술 사조라고 할 수 있다.`,
                questions: [
                    {
                        q: "7. 윗글에 따르면, 하이퍼리얼리즘 작품이 관객에게 주는 역설적인 감상 경험의 핵심이 되는, 작품이 보여주는 특성을 한 단어로 쓰시오.",
                        answer: "비현실성",
                        explanation: "본문 2문단은 하이퍼리얼리즘 작품이 \"현실보다 더 현실 같은 비현실성을 보여 준다\"고 서술합니다. 관객은 작품이 너무나 사실적이어서 오히려 그것이 진짜가 아니라는 점을 깨닫게 되는데, 이러한 역설적 경험의 핵심이 되는 특성은 ‘비현실성’입니다."
                    }
                ]
            },
            {
                passageTitle: "[8] 다음 글을 읽고 물음에 답하시오.",
                passage: `음운의 변동은 한 음운이 환경에 따라 다른 음운으로 바뀌어 소리 나는 현상을 말한다. 이는 발음을 좀 더 쉽고 효율적으로 하려는 경향 때문에 나타나며, 크게 교체, 탈락, 첨가, 축약의 네 가지 유형으로 나뉜다.\n\n‘교체’는 한 음운이 다른 음운으로 바뀌는 현상으로, 가장 흔한 음운 변동 유형이다. 교체의 대표적인 예로는 한 음운이 인접한 다른 음운의 영향을 받아 그와 비슷하거나 같은 소리로 바뀌는 ‘동화(同化)’ 현상이 있다. ‘신라[실라]’의 유음화나 ‘밥물[밤물]’의 비음화가 이에 해당한다. 또한, 음절 끝에 오는 자음이 ‘ㄱ, ㄴ, ㄷ, ㄹ, ㅁ, ㅂ, ㅇ’의 7개 중 하나로 바뀌는 ‘음절의 끝소리 규칙’이나, ‘굳이[구지]’처럼 ‘ㄷ, ㅌ’이 모음 ‘ㅣ’ 앞에서 ‘ㅈ, ㅊ’으로 바뀌는 ‘구개음화’ 역시 교체에 속한다.\n\n‘탈락’은 원래 있던 음운이 사라지는 현상이다. ‘좋은[조은]’에서처럼 용언의 어간 끝소리 ‘ㅎ’이 모음으로 시작하는 어미 앞에서 발음되지 않는 ‘ㅎ 탈락’이 대표적이다. 또한, ‘울-’에 ‘-는’이 결합하여 ‘우는’이 되는 것처럼 용언 어간 끝의 ‘ㄹ’이 특정 어미 앞에서 사라지는 ‘ㄹ 탈락’도 있다.\n\n‘첨가’는 없던 음운이 새로 더해지는 현상이다. 합성어나 파생어에서 앞말이 자음으로 끝나고 뒷말이 ‘ㅣ’나 반모음 ‘ㅣ’로 시작할 때, ‘ㄴ’ 소리가 덧나는 ‘ㄴ 첨가’가 대표적이다. 예를 들어, ‘솜이불’은 [솜니불]로, ‘맨입’은 [맨닙]으로 발음된다.\n\n마지막으로 ‘축약’은 두 음운이 합쳐져 하나의 새로운 음운이 되는 현상으로, 음운의 개수가 줄어든다는 특징이 있다. ‘좋고[조코]’나 ‘입학[이팍]’처럼 ‘ㅎ’과 예사소리 ‘ㄱ, ㄷ, ㅂ, ㅈ’이 만나 거센소리 ‘ㅋ, ㅌ, ㅍ, ㅊ’이 되는 거센소리되기가 대표적인 축약 현상이다.`,
                questions: [
                    {
                        q: "8. <보기>는 음운 변동의 사례를 설명한 것이다. (ㄱ), (ㄴ)에 들어갈 음운 변동의 유형을 본문에서 찾아 순서대로 쓰시오.\n\n<보기>\n음운의 변동은 다양한 양상으로 나타난다. 예를 들어, ‘솔나무’가 [소나무]로 발음되는 것은 음운 하나가 사라지는 (ㄱ) 현상에 해당한다. 또한, ‘놓고’가 [노코]로 발음되는 것은 두 음운이 합쳐져 하나의 새로운 음운이 되는 (ㄴ) 현상에 해당한다.",
                        answer: "탈락, 축약",
                        explanation: "<보기>의 (ㄱ)에서 ‘솔나무’가 [소나무]로 발음될 때 ‘ㄹ’이 사라지는 것은 본문에서 설명하는 ‘탈락’에 해당합니다. (ㄴ)에서 ‘놓고’가 [노코]로 발음될 때 ‘ㅎ’과 ‘ㄱ’이 합쳐져 ‘ㅋ’이 되는 것은 두 음운이 합쳐져 하나의 새로운 음운이 되는 ‘축약’에 해당합니다."
                    }
                ]
            }
        ];

        const testContainer = document.getElementById('test-container');
        let questionCount = 0;

        testData.forEach((section, sectionIndex) => {
            const passageWrapper = document.createElement('div');
            passageWrapper.className = 'mb-8';

            const passageTitleEl = document.createElement('h2');
            passageTitleEl.className = 'text-xl font-bold mb-4 p-3 bg-gray-200 rounded-md';
            passageTitleEl.textContent = section.passageTitle;
            passageWrapper.appendChild(passageTitleEl);

            const passageEl = document.createElement('div');
            passageEl.className = 'passage';
            passageEl.textContent = section.passage;
            passageWrapper.appendChild(passageEl);

            section.questions.forEach((q, qIndex) => {
                questionCount++;
                const questionWrapper = document.createElement('div');
                questionWrapper.className = 'question-box';
                questionWrapper.id = `q-${sectionIndex}-${qIndex}`;

                const questionText = document.createElement('p');
                questionText.className = 'mb-4 whitespace-pre-wrap';
                questionText.textContent = q.q;
                questionWrapper.appendChild(questionText);

                const answerInput = document.createElement('input');
                answerInput.type = 'text';
                answerInput.className = 'w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition';
                answerInput.placeholder = '정답을 입력하세요.';
                questionWrapper.appendChild(answerInput);

                const feedbackEl = document.createElement('div');
                feedbackEl.className = 'mt-2 text-sm';
                questionWrapper.appendChild(feedbackEl);
                
                const explanationEl = document.createElement('div');
                explanationEl.className = 'explanation';
                explanationEl.innerHTML = `<strong class="font-bold">해설:</strong> ${q.explanation}`;
                questionWrapper.appendChild(explanationEl);

                passageWrapper.appendChild(questionWrapper);
            });

            testContainer.appendChild(passageWrapper);
        });

        const submitBtn = document.getElementById('submit-btn');
        const resultSection = document.getElementById('result-section');
        const scoreEl = document.getElementById('score');
        const feedbackEl = document.getElementById('feedback');
        const showAnswersBtn = document.getElementById('show-answers-btn');

        submitBtn.addEventListener('click', () => {
            let correctCount = 0;
            let questionIndex = 0;
            
            testData.forEach((section, sectionIndex) => {
                section.questions.forEach((q, qIndex) => {
                    const questionWrapper = document.getElementById(`q-${sectionIndex}-${qIndex}`);
                    const input = questionWrapper.querySelector('input');
                    const feedbackDiv = questionWrapper.querySelector('.mt-2');
                    
                    // Normalize answers for comparison
                    const userAnswer = input.value.trim().replace(/\s/g, '');
                    const correctAnswer = q.answer.trim().replace(/\s/g, '');

                    if (userAnswer === correctAnswer) {
                        correctCount++;
                        feedbackDiv.textContent = '정답입니다!';
                        feedbackDiv.className = 'mt-2 text-sm correct-answer';
                        questionWrapper.style.borderColor = '#16a34a';

                    } else {
                        feedbackDiv.textContent = `오답입니다. (정답: ${q.answer})`;
                        feedbackDiv.className = 'mt-2 text-sm incorrect-answer';
                         questionWrapper.style.borderColor = '#dc2626';
                    }
                    input.disabled = true; // Disable input after submission
                });
            });

            scoreEl.textContent = `${correctCount} / ${questionCount}`;
            
            let feedbackText = "";
            const percentage = (correctCount / questionCount) * 100;
            if (percentage === 100) {
                feedbackText = "완벽합니다! 모든 문제를 맞히셨습니다.";
            } else if (percentage >= 70) {
                feedbackText = "훌륭합니다! 좋은 점수입니다.";
            } else if (percentage >= 50) {
                feedbackText = "잘하셨습니다. 조금만 더 노력해 보세요!";
            } else {
                feedbackText = "수고하셨습니다. 해설을 보며 틀린 문제를 복습해 보세요.";
            }
            feedbackEl.textContent = feedbackText;

            resultSection.classList.remove('hidden');
            submitBtn.style.display = 'none';
            window.scrollTo({ top: document.body.scrollHeight, behavior: 'smooth' });
        });

        showAnswersBtn.addEventListener('click', () => {
            const explanations = document.querySelectorAll('.explanation');
            explanations.forEach(exp => {
                if(exp.style.display === 'none' || exp.style.display === ''){
                    exp.style.display = 'block';
                    showAnswersBtn.textContent = '정답 및 해설 숨기기';
                } else {
                    exp.style.display = 'none';
                    showAnswersBtn.textContent = '정답 및 해설 보기';
                }
            });
        });
    </script>
</body>
</html>
